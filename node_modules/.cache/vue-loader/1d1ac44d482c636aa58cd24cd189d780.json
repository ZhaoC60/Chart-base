{"remainingRequest":"D:\\web相关\\small project\\图表库\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\web相关\\small project\\图表库\\src\\components\\Chart Library\\03-饼图\\01-基础饼图\\PieChart2.vue?vue&type=style&index=0&id=afc58ca8&lang=less&scoped=true","dependencies":[{"path":"D:\\web相关\\small project\\图表库\\src\\components\\Chart Library\\03-饼图\\01-基础饼图\\PieChart2.vue","mtime":1693558619601},{"path":"D:\\web相关\\small project\\图表库\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\web相关\\small project\\图表库\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\web相关\\small project\\图表库\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\web相关\\small project\\图表库\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\web相关\\small project\\图表库\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\web相关\\small project\\图表库\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQouY2hhcnROdW1Cb3R0b20gew0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQogIHJpZ2h0OiA1cHg7DQogIHdpZHRoOiA3MDBweDsNCiAgLy8gICBkaXNwbGF5OiBmbGV4Ow0KfQ0KDQouYm90dG9tIHsNCiAgbWF4LWhlaWdodDogY2FsYygxMDAlIC0gMjBweCk7DQogIG92ZXJmbG93OiBhdXRvOw0KICBoZWlnaHQ6IDI3MHB4Ow0KICB3aWR0aDogMTAwJTsNCiAgcG9zaXRpb246IGFic29sdXRlOw0KICB0b3A6IDIwMHB4Ow0KICBkaXNwbGF5OiBmbGV4Ow0KICBmbGV4LXdyYXA6IHdyYXA7DQogIGFsaWduLWNvbnRlbnQ6IGJhc2VsaW5lOw0KICBtYXJnaW4tbGVmdDogOTVweDsNCiAgbWFyZ2luLXRvcDogLTVweDsNCg0KICAucmlnaHRfaXRlbV8zIHsNCiAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgIGhlaWdodDogMzRweDsNCiAgICBsaW5lLWhlaWdodDogMzRweDsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIHdpZHRoOiAxMzBweDsNCiAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgbWFyZ2luLXJpZ2h0OiA0MHB4Ow0KDQogICAgLmxlZ2VuZCB7DQogICAgICB3aWR0aDogOHB4Ow0KICAgICAgaGVpZ2h0OiA4cHg7DQogICAgICBib3JkZXItcmFkaXVzOiA1MCU7DQogICAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7DQogICAgfQ0KDQogICAgLnRleHQgew0KICAgICAgLy8gICBwYWRkaW5nLWxlZnQ6IDVweDsNCiAgICAgIGNvbG9yOiAjZmZmOw0KICAgICAgZm9udC1zaXplOiAxNnB4Ow0KICAgICAgZm9udC13ZWlnaHQ6ICc0MDAnOw0KICAgIH0NCg0KICAgIC5udW0gew0KICAgICAgZm9udC1zaXplOiAyNnB4Ow0KICAgICAgZm9udC1mYW1pbHk6ICfohb7npaXmmbrpu5HnroAnOw0KICAgICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgICAgcmlnaHQ6IDA7DQogICAgICBtYXJnaW4tdG9wOiAycHg7DQogICAgfQ0KICB9DQp9DQoNCi9kZWVwLyAuaGlnaGNoYXJ0cy0zZC1mcmFtZS10b3AsDQovZGVlcC8gLmhpZ2hjaGFydHMtM2QtZnJhbWUtZnJvbnQgew0KICBkaXNwbGF5OiBub25lOw0KfQ0K"},{"version":3,"sources":["PieChart2.vue"],"names":[],"mappings":";AAqSA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"PieChart2.vue","sourceRoot":"src/components/Chart Library/03-饼图/01-基础饼图","sourcesContent":["<template>\r\n  <div class=\"chartNumBottom\">\r\n    <div id=\"chartNumBottom\" :style=\"{ width: `${width}`, height: `${height}` }\"></div>\r\n    <div class=\"bottom\">\r\n      <div class=\"right_item_3\" v-for=\"(d, index) in chartNumBottomData\" :key=\"index\">\r\n        <div class=\"legend\" :style=\"{ 'background-color': color[index] }\"></div>\r\n        <div class=\"text\" v-text=\"d.name\"></div>\r\n        <!-- <div class=\"num\" v-text=\"d.num\" :style=\"{ color: color[index] }\"></div> -->\r\n        <div class=\"num\" v-text=\"d.value + '%'\" :style=\"{ color: color[index] }\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script src=\"./lib/highCharts/highCharts.js\"></script>\r\n<script src=\"./lib/highCharts/highCharts_3d.js\"></script>\r\n<script>\r\nexport default {\r\n  name: 'LoopChartTj',\r\n  props: {\r\n    height: { type: String, default: '390px' }, //高度\r\n    width: { type: String, default: '1000px' }, //宽度\r\n    legthunit: { type: String, default: '人' },\r\n    paddingBottom: { type: String, default: '6px' },\r\n\r\n    // value\r\n    rowData: {\r\n      type: Array,\r\n      default: () => {\r\n        return [\r\n          { category: '历下区', value: 7.91 },\r\n          { category: '长清区', value: 4.36 },\r\n          { category: '钢城区', value: 3.71 },\r\n          { category: '商河县', value: 6.68 },\r\n          { category: '市中区', value: 8.52 },\r\n          { category: '章丘区', value: 11.03 },\r\n          { category: '平阴县', value: 4.19 },\r\n          { category: '南部山区', value: 1.86 },\r\n          { category: '槐荫区', value: 11.79 },\r\n          { category: '天桥区', value: 6.96 },\r\n          { category: '莱芜区', value: 9.32 },\r\n          { category: '起步区', value: 0.82 },\r\n          { category: '高新区', value: 4.11 },\r\n          { category: '历城区', value: 12.05 },\r\n          { category: '济阳区', value: 6.71 },\r\n        ];\r\n      },\r\n    },\r\n    lengthShow: {\r\n      type: Boolean,\r\n      default: () => {\r\n        return true;\r\n      },\r\n    },\r\n    showValue: {\r\n      type: Boolean,\r\n      default: () => {\r\n        return false;\r\n      },\r\n    },\r\n    color: {\r\n      type: Array,\r\n      default: () => {\r\n        return [\r\n          '#47E094',\r\n          '#00BFFF',\r\n          '#D9799D',\r\n          '#B682EA',\r\n          '#72FFFF',\r\n          '#0095BF',\r\n          '#117EEA',\r\n          '#716DE7',\r\n          '#634EDC',\r\n          '#4A39AC',\r\n          '#248E64',\r\n          '#A3D900',\r\n          '#C78F34',\r\n          '#F29657',\r\n          '#6DB6E7',\r\n        ];\r\n      },\r\n    },\r\n    // 图表文字中间位置\r\n    chartNumBottom_labelStyle: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          left: '14%',\r\n          top: '20%',\r\n        };\r\n      },\r\n    },\r\n    legendsStyle: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          display: 'block',\r\n          right: '2px',\r\n          unitright: '-27px',\r\n        };\r\n      },\r\n    },\r\n    //图例value\r\n    legends: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          城管采集员: '#00BFFF',\r\n          执法人员: '#FFE426',\r\n          坐席人员: '#00DD8A',\r\n          离岗: '#96FF2B',\r\n        };\r\n      },\r\n    },\r\n    displayModel: {\r\n      type: Number,\r\n      default: 3, //0 图例 1 进度条 2 图例+个数\r\n    },\r\n    chartStyle: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          left: 6,\r\n          top: 6,\r\n          right: 6,\r\n          bottom: 6,\r\n        };\r\n      },\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      ind: 0,\r\n      chartNumBottomData: [],\r\n      num: 0,\r\n      //当前选中的value\r\n      selectedSeries: {\r\n        category: '',\r\n        value: '',\r\n      },\r\n      sum: 0,\r\n      Status: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      this.draw();\r\n    });\r\n  },\r\n  methods: {\r\n    changeRegion(e, item) {\r\n      e.stopPropagation();\r\n      this.$emit('changeRegion', item.name);\r\n      this.$emit('areaCode', item);\r\n    },\r\n    draw() {\r\n      let _that = this;\r\n      // 基于准备好的dom，初始化echarts实例\r\n      _that.option = {\r\n        colors: _that.color,\r\n        chart: {\r\n          type: 'pie',\r\n          backgroundColor: 'rgba(0,0,0,0)',\r\n          options3d: {\r\n            enabled: true,\r\n            alpha: 70,\r\n            beta: 0,\r\n          },\r\n        },\r\n        title: {\r\n          text: '',\r\n        },\r\n        credits: {\r\n          enabled: false,\r\n        },\r\n        tooltip: {\r\n          pointFormat: '<b>{point.percentage:.1f}%</b>',\r\n        },\r\n        plotOptions: {\r\n          pie: {\r\n            allowPointSelect: true,\r\n            cursor: 'pointer',\r\n            events: {\r\n              click: function () {\r\n                // pieClick(e);\r\n              },\r\n            },\r\n            depth: 35,\r\n            dataLabels: {\r\n              enabled: false,\r\n              format: `{point.name},{point.y}`,\r\n            },\r\n          },\r\n        },\r\n\r\n        series: [\r\n          {\r\n            type: 'pie',\r\n            center: ['39%', '17%'],\r\n            data: [\r\n              ['Firefox', 45.0],\r\n              ['IE', 26.8],\r\n              {\r\n                name: 'Chrome',\r\n                y: 12.8,\r\n                sliced: true,\r\n                selected: true,\r\n              },\r\n              ['Safari', 8.5],\r\n              ['Opera', 6.2],\r\n              ['Others', 0.7],\r\n            ],\r\n          },\r\n        ],\r\n      };\r\n      _that.chartNumBottomData = _that.convertData(_that.rowData, _that.legends);\r\n      let optionData = [];\r\n      for (let i = 0; i < _that.chartNumBottomData.length; i++) {\r\n        optionData.push({\r\n          name: _that.chartNumBottomData[i].name,\r\n          y: _that.chartNumBottomData[i].value,\r\n          color: _that.chartNumBottomData[i].color,\r\n          areaCode: _that.chartNumBottomData[i].code,\r\n        });\r\n      }\r\n      _that.option.series[0].data = optionData;\r\n      //_that.carousel();\r\n      _that.myChart = Highcharts.chart('chartNumBottom', _that.option);\r\n\r\n      // _that.myChart.setOption(_that.option);\r\n    },\r\n    //value转换\r\n    convertData(rowData) {\r\n      this.sum = 0;\r\n      let returnData = [];\r\n      rowData.forEach((d, index) => {\r\n        this.sum += d.value;\r\n        returnData.push({\r\n          value: d.value,\r\n          name: d.category,\r\n          code: d.areaCode,\r\n          color: this.color[index],\r\n          // itemStyle: {\r\n          //   color: legends[d.category]\r\n          // }\r\n        });\r\n      });\r\n      returnData.forEach((d) => {\r\n        d.num = this.sum == 0 ? '0' : ((d.value / this.sum) * 100).toFixed(0) + '%';\r\n      });\r\n\r\n      //进度条模式时 倒序排序\r\n      if (this.displayModel == 1) {\r\n        returnData.sort((a, b) => {\r\n          return b.value - a.value;\r\n        });\r\n      }\r\n\r\n      //增加千分位\r\n      if (this.displayModel == 2) {\r\n        let re = /(?=(?!(\\b))(\\d{3})+$)/g;\r\n        returnData.forEach((r) => {\r\n          r.value = String(r.value).replace(re, ',');\r\n        });\r\n      }\r\n      return returnData;\r\n    },\r\n  },\r\n  watch: {\r\n    rowData: {\r\n      handler() {\r\n        // this.option.series[0].data = [];\r\n        // this.chartNumBottomData = this.convertData(neVal, this.legends);\r\n        // this.option.series[0].data = this.chartNumBottomData;\r\n        this.$nextTick(() => {\r\n          // let chart = this.$echarts.init(this.$refs.chartNumBottom);\r\n          // this.carousel();\r\n          // chart.setOption(this.option);\r\n          this.draw();\r\n        });\r\n      },\r\n      deep: true,\r\n    },\r\n  },\r\n  destroyed() {\r\n    let _that = this;\r\n    _that.timer && clearInterval(_that.timer);\r\n    _that.debounce && clearTimeout(_that.debounce);\r\n    _that.myChart.dispose();\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.chartNumBottom {\r\n  position: relative;\r\n  right: 5px;\r\n  width: 700px;\r\n  //   display: flex;\r\n}\r\n\r\n.bottom {\r\n  max-height: calc(100% - 20px);\r\n  overflow: auto;\r\n  height: 270px;\r\n  width: 100%;\r\n  position: absolute;\r\n  top: 200px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  align-content: baseline;\r\n  margin-left: 95px;\r\n  margin-top: -5px;\r\n\r\n  .right_item_3 {\r\n    align-items: center;\r\n    height: 34px;\r\n    line-height: 34px;\r\n    display: flex;\r\n    width: 130px;\r\n    position: relative;\r\n    margin-right: 40px;\r\n\r\n    .legend {\r\n      width: 8px;\r\n      height: 8px;\r\n      border-radius: 50%;\r\n      margin-right: 10px;\r\n    }\r\n\r\n    .text {\r\n      //   padding-left: 5px;\r\n      color: #fff;\r\n      font-size: 16px;\r\n      font-weight: '400';\r\n    }\r\n\r\n    .num {\r\n      font-size: 26px;\r\n      font-family: '腾祥智黑简';\r\n      position: absolute;\r\n      right: 0;\r\n      margin-top: 2px;\r\n    }\r\n  }\r\n}\r\n\r\n/deep/ .highcharts-3d-frame-top,\r\n/deep/ .highcharts-3d-frame-front {\r\n  display: none;\r\n}\r\n</style>\r\n"]}]}