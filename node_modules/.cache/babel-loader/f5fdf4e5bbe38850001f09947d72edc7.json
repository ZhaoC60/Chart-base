{"remainingRequest":"D:\\web相关\\small project\\图表库\\node_modules\\thread-loader\\dist\\cjs.js!D:\\web相关\\small project\\图表库\\node_modules\\babel-loader\\lib\\index.js!D:\\web相关\\small project\\图表库\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\web相关\\small project\\图表库\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\web相关\\small project\\图表库\\src\\components\\Chart Library\\03-饼图\\03-玫瑰图\\roseCharts.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\web相关\\small project\\图表库\\src\\components\\Chart Library\\03-饼图\\03-玫瑰图\\roseCharts.vue","mtime":1711389962769},{"path":"D:\\web相关\\small project\\图表库\\babel.config.js","mtime":1669272750000},{"path":"D:\\web相关\\small project\\图表库\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\web相关\\small project\\图表库\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\web相关\\small project\\图表库\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\web相关\\small project\\图表库\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\web相关\\small project\\图表库\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTmlnaHRpbmdhbGVFY2hhcnRzJywKICBwcm9wczogewogICAgdGl0bGU6IHsKICAgICAgdHlwZTogU3RyaW5nCiAgICB9LAogICAgd2lkdGg6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnNTAwcHgnCiAgICB9LAogICAgaGVpZ2h0OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJzUwMHB4JwogICAgfSwKICAgIC8v5pWw5o2uCiAgICByb3dEYXRhOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiAoKSA9PiB7CiAgICAgICAgcmV0dXJuIFt7CiAgICAgICAgICBjYXRlZ29yeTogJ+exu+WeizEnLAogICAgICAgICAgdmFsdWU6IDIwCiAgICAgICAgfSwgewogICAgICAgICAgY2F0ZWdvcnk6ICfnsbvlnosyJywKICAgICAgICAgIHZhbHVlOiAzMAogICAgICAgIH0sIHsKICAgICAgICAgIGNhdGVnb3J5OiAn57G75Z6LMycsCiAgICAgICAgICB2YWx1ZTogNDAKICAgICAgICB9LCB7CiAgICAgICAgICBjYXRlZ29yeTogJ+exu+WeizQnLAogICAgICAgICAgdmFsdWU6IDUwCiAgICAgICAgfV07CiAgICAgIH0KICAgIH0sCiAgICAvL+WbvuihqOminOiJsgogICAgcGllY2VDb2xvcjogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogKCkgPT4gewogICAgICAgIHJldHVybiBbJyNlZWUnLCAnI2FiYWJhOScsICcjM2U0NjRmJywgJyMyNTJkMzUnLCAnIzA1MTgzOScsICcjRTZDODRGJ107CiAgICAgIH0KICAgIH0sCiAgICAvL+WbvuihqOS9jee9rgogICAgbG9jYXRpb246IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6ICgpID0+IHsKICAgICAgICByZXR1cm4gWycxMjAlJywgJzU1JSddOwogICAgICB9CiAgICB9LAogICAgLy/lm77ooajljYrlvoQKICAgIEVjaGFydFJhZGl1czogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogKCkgPT4gewogICAgICAgIHJldHVybiBbNTAsIDEwMF07CiAgICAgIH0KICAgIH0sCiAgICBkaXNwbGF5TW9kZWw6IHsKICAgICAgdHlwZTogW1N0cmluZywgTnVtYmVyXSwKICAgICAgZGVmYXVsdDogKCkgPT4gewogICAgICAgIHJldHVybiAxOwogICAgICB9CiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgb3B0aW9uOiB7CiAgICAgICAgLy90aXRsZeWbvueahOagh+mimO+8jOWJr+agh+mimO+8jOS7peWPiuS9jee9ruiuvue9rgogICAgICAgIHRpdGxlOiB7CiAgICAgICAgICBzaG93OiBmYWxzZSwKICAgICAgICAgIHRleHQ6ICfljZfkuIHmoLzlsJTnjqvnkbDlm74nLAogICAgICAgICAgc3VidGV4dDogJ+e6r+WxnuiZmuaehCcsCiAgICAgICAgICB4OiAnY2VudGVyJwogICAgICAgIH0sCiAgICAgICAgdG9vbHRpcDogewogICAgICAgICAgdHJpZ2dlcjogJ2l0ZW0nLAogICAgICAgICAgc2hvdzogZmFsc2UKICAgICAgICAgIC8v5o+Q56S65qGG55qE5pWw5o2u5qC35byP5pi+56S6CiAgICAgICAgfSwKICAgICAgICAvL+WbvuS+i+ebuOWFs+WGheWuueeahOivtOaYjgoKICAgICAgICBsZWdlbmQ6IHsKICAgICAgICAgIHNob3c6IGZhbHNlLAogICAgICAgICAgeDogJ2xlZnQnLAogICAgICAgICAgeTogJ2NlbnRlcicsCiAgICAgICAgICAvL+WbvuS+i+eahOaOkuWIl+m7mOiupOWxnuaAp+aYr++8muawtOW5s+aIluWeguebtCzpu5jorqTmmK/vvJrmsLTlubMKICAgICAgICAgIG9yaWVudDogJ3ZlcnRpY2FsJwogICAgICAgICAgLy8gZGF0YTogWyfljJfkuqwnLCAn5LiK5rW3JywgJ+W5v+W3nicsICfnpo/lu7onLCAn5Y6m6ZeoJywgJ+atpuaxiScsICfpnZLlspsnLCAn5Y2X5LqsJ10KICAgICAgICB9LAogICAgICAgIC8qDQogICAgICAgICAqIHRvb2xib3jkuLrlt6XlhbfmoI/vvJvmj5Dkvpvlr7zlh7rlm77niYfvvIzmlbDmja7ovazljJbvvIzliqjmgIHmlbDmja7nrYnkv6Hmga8NCiAgICAgICAgICog5L+d5a2Y5Zu+54mHDQogICAgICAgICAqLwoKICAgICAgICB0b29sYm94OiB7CiAgICAgICAgICBzaG93OiBmYWxzZSAvL+aYr+WQpuaYvuekuuW3peWFt+agj+e7hOS7tgogICAgICAgIH0sCiAgICAgICAgY2FsY3VsYWJsZTogZmFsc2UsCiAgICAgICAgLy/miYvmn4Tmi5bmi73osIPmlbTpgInkuK3nmoTojIPlm7QKCiAgICAgICAgc2VyaWVzOiBbewogICAgICAgICAgbmFtZTogdGhpcy50aXRsZSwKICAgICAgICAgIHR5cGU6ICdwaWUnLAogICAgICAgICAgcmFkaXVzOiB0aGlzLkVjaGFydFJhZGl1cywKICAgICAgICAgIGNvbG9yOiB0aGlzLnBpZWNlQ29sb3IsCiAgICAgICAgICBjZW50ZXI6IHRoaXMubG9jYXRpb24sCiAgICAgICAgICByb3NlVHlwZTogJ3JhZGl1cycsCiAgICAgICAgICB3aWR0aDogJzQwJScsCiAgICAgICAgICAvLyBmb3IgZnVubmVsCgogICAgICAgICAgbWF4OiAxNDAsCiAgICAgICAgICAvLyBmb3IgZnVubmVsCgogICAgICAgICAgaXRlbVN0eWxlOiB7CiAgICAgICAgICAgIC8v5pmu6YCa5qC35byP6K6+572uCiAgICAgICAgICAgIG5vcm1hbDogewogICAgICAgICAgICAgIGxhYmVsOiB7CiAgICAgICAgICAgICAgICBzaG93OiBmYWxzZQogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgbGFiZWxMaW5lOiB7CiAgICAgICAgICAgICAgICBzaG93OiBmYWxzZQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgLy/pq5jkuq7moLflvI/orr7nva4KICAgICAgICAgICAgZW1waGFzaXM6IHsKICAgICAgICAgICAgICBsYWJlbDogewogICAgICAgICAgICAgICAgc2hvdzogdHJ1ZQogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgbGFiZWxMaW5lOiB7CiAgICAgICAgICAgICAgICBzaG93OiBmYWxzZQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIGRhdGE6IHRoaXMucm93RGF0YQogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIGluZDogMCwKICAgICAgbG9vcERhdGE6IFtdLAogICAgICBudW06IDAsCiAgICAgIHN1bTogMCwKICAgICAgLy/lvZPliY3pgInkuK3nmoR2YWx1ZQogICAgICBzZWxlY3RlZFNlcmllczogewogICAgICAgIGNhdGVnb3J5OiAnJywKICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgc3VtOiAnJwogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgaW5pdEVjaGFydHMoKSB7CiAgICAgIGxldCB0aGF0ID0gdGhpczsKICAgICAgdGhpcy5teUNoYXJ0ID0gdGhhdC4kZWNoYXJ0cy5pbml0KHRoYXQuJHJlZnMuTmlnaHRpbmdhbGVFY2hhcnRzKTsKICAgICAgdGhpcy5sb29wRGF0YSA9IHRoaXMuY29udmVydERhdGEodGhpcy5yb3dEYXRhLCB0aGlzLmxlZ2VuZHMpOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmxvb3BEYXRhKTsKICAgICAgdGhpcy5vcHRpb24uc2VyaWVzWzBdLmRhdGEgPSB0aGlzLmxvb3BEYXRhOwogICAgICB0aGlzLmNhcm91c2VsKCk7CiAgICAgIHRoaXMubXlDaGFydC5zZXRPcHRpb24odGhhdC5vcHRpb24pOwogICAgfSwKICAgIC8vdmFsdWXovazmjaIKICAgIGNvbnZlcnREYXRhKHJvd0RhdGEpIHsKICAgICAgdGhpcy5zdW0gPSAwOwogICAgICBsZXQgcmV0dXJuRGF0YSA9IFtdOwogICAgICByb3dEYXRhLmZvckVhY2goZCA9PiB7CiAgICAgICAgdGhpcy5zdW0gKz0gZC52YWx1ZTsKICAgICAgICByZXR1cm5EYXRhLnB1c2goewogICAgICAgICAgdmFsdWU6IGQudmFsdWUsCiAgICAgICAgICBuYW1lOiBkLmNhdGVnb3J5CiAgICAgICAgICAvLyBpdGVtU3R5bGU6IHsKICAgICAgICAgIC8vICAgY29sb3I6IGxlZ2VuZHNbZC5jYXRlZ29yeV0KICAgICAgICAgIC8vIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHJldHVybkRhdGEuZm9yRWFjaChkID0+IHsKICAgICAgICBkLm51bSA9IHRoaXMuc3VtID09IDAgPyAnMCcgOiAoZC52YWx1ZSAvIHRoaXMuc3VtICogMTAwKS50b0ZpeGVkKDMpICsgJyUnOwogICAgICB9KTsKICAgICAgLy/ov5vluqbmnaHmqKHlvI/ml7Yg5YCS5bqP5o6S5bqPCiAgICAgIGlmICh0aGlzLmRpc3BsYXlNb2RlbCA9PSAxMDApIHsKICAgICAgICByZXR1cm5EYXRhLnNvcnQoKGEsIGIpID0+IHsKICAgICAgICAgIHJldHVybiBiLnZhbHVlIC0gYS52YWx1ZTsKICAgICAgICB9KTsKICAgICAgfQogICAgICAvL+WinuWKoOWNg+WIhuS9jQogICAgICBpZiAodGhpcy5kaXNwbGF5TW9kZWwgPT0gMikgewogICAgICAgIGxldCByZSA9IC8oPz0oPyEoXGIpKShcZHszfSkrJCkvZzsKICAgICAgICByZXR1cm5EYXRhLmZvckVhY2gociA9PiB7CiAgICAgICAgICByLnZhbHVlID0gU3RyaW5nKHIudmFsdWUpLnJlcGxhY2UocmUsICcsJyk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgcmV0dXJuIHJldHVybkRhdGE7CiAgICB9LAogICAgc2V0VGltZVRvRG8oKSB7CiAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLm9wdGlvbi5zZXJpZXNbMF0uZGF0YTsKICAgICAgZGF0YS5mb3JFYWNoKGUgPT4gZS5zZWxlY3RlZCA9IGZhbHNlKTsKICAgICAgZGF0YVt0aGlzLm51bV0uc2VsZWN0ZWQgPSB0cnVlOwogICAgICB0aGlzLnNlbGVjdGVkU2VyaWVzLmNhdGVnb3J5ID0gZGF0YVt0aGlzLm51bV0ubmFtZTsKICAgICAgLy8g6K6h566X55m+5YiG5q+U55qE5LiA5LiqCiAgICAgIHRoaXMuc2VsZWN0ZWRTZXJpZXMudmFsdWUgPSBkYXRhW3RoaXMubnVtXS5udW07CiAgICAgIC8vIHRoaXMuc2VsZWN0ZWRTZXJpZXMgPWRhdGFbdGhpcy5udW1dCiAgICAgIC8vIOW/hemhu+mHjeaWsOiuvue9rm9wdGlvbu+8jOWboOS4umVjaGFydOayoeacieebkeWQrGRhdGHnmoTlj5jljJYKICAgICAgdGhpcy5teUNoYXJ0LnNldE9wdGlvbih0aGlzLm9wdGlvbik7CiAgICB9LAogICAgc2V0SGlnaExpZ2h0KCkgewogICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpOwogICAgICBjb25zdCBkYXRhID0gdGhpcy5vcHRpb24uc2VyaWVzWzBdLmRhdGE7CiAgICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgaWYgKHRoaXMubnVtIDwgZGF0YS5sZW5ndGggLSAxKSB7CiAgICAgICAgICB0aGlzLm51bSsrOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLm51bSA9IDA7CiAgICAgICAgfQogICAgICAgIHRoaXMuc2V0VGltZVRvRG8oKTsKICAgICAgfSwgMTAwMCk7CiAgICB9LAogICAgLy/ova7mkq0KICAgIGNhcm91c2VsKCkgewogICAgICBpZiAodGhpcy5vcHRpb24uc2VyaWVzWzBdLmRhdGEubGVuZ3RoID4gMCkgewogICAgICAgIC8v5byA5ZCv5a6a5pe25ZmoCiAgICAgICAgdGhpcy5zZXRUaW1lVG9EbygpOwogICAgICAgIHRoaXMuc2V0SGlnaExpZ2h0KCk7CiAgICAgICAgdGhpcy5teUNoYXJ0Lm9uKCdtb3VzZW92ZXInLCBwYXJhbXMgPT4gewogICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTsKICAgICAgICAgIC8vIOm8oOagh+W/q+mAn+enu+WKqOaXtu+8jOS8muWvvOiHtG1vdXNlb3ZlcumHjOeahOS7o+eggeadpeS4jeWPiuaJp+ihjO+8jOW8lei1t+S6i+S7tuW7tui/n++8jOWHuueOsOWkmuS4quaJh+W9ouWMuuWfn+WQjOaXtuiiq+mAieS4reeahOeOsOixoe+8jOaJgOS7peacieW/heimgeiuvue9rumYsuaKluWHveaVsAogICAgICAgICAgdGhpcy5kZWJvdW5jZSAmJiBjbGVhclRpbWVvdXQodGhpcy5kZWJvdW5jZSk7CiAgICAgICAgICB0aGlzLmRlYm91bmNlID0gc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLm9wdGlvbi5zZXJpZXNbMF0uZGF0YTsKICAgICAgICAgICAgZGF0YS5mb3JFYWNoKGUgPT4gZS5zZWxlY3RlZCA9IGZhbHNlKTsKICAgICAgICAgICAgZGF0YVtwYXJhbXMuZGF0YUluZGV4XS5zZWxlY3RlZCA9IHRydWU7CiAgICAgICAgICAgIHRoaXMubXlDaGFydC5zZXRPcHRpb24odGhpcy5vcHRpb24pOwogICAgICAgICAgICB0aGlzLm51bSA9IHBhcmFtcy5kYXRhSW5kZXg7CiAgICAgICAgICB9LCAzMDApOwogICAgICAgIH0pOwogICAgICAgIHRoaXMubXlDaGFydC5vbignbW91c2VvdXQnLCAoKSA9PiB7CiAgICAgICAgICB0aGlzLnNldFRpbWVUb0RvKCk7CiAgICAgICAgICB0aGlzLnNldEhpZ2hMaWdodCgpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgaWYgKHRoaXMucm93RGF0YSAmJiB0aGlzLnJvd0RhdGEubGVuZ3RoID4gMCkgewogICAgICB0aGlzLmluaXRFY2hhcnRzKCk7CiAgICB9CiAgfSwKICBkZXN0cm95ZWQoKSB7CiAgICB0aGlzLnRpbWVyICYmIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7CiAgICB0aGlzLmRlYm91bmNlICYmIGNsZWFyVGltZW91dCh0aGlzLmRlYm91bmNlKTsKICB9LAogIHdhdGNoOiB7CiAgICByb3dEYXRhOiB7CiAgICAgIGhhbmRsZXIobmVWYWwpIHsKICAgICAgICBsZXQgdGhhdCA9IHRoaXM7CiAgICAgICAgdGhpcy5vcHRpb24uc2VyaWVzWzBdLmRhdGEgPSBbXTsKICAgICAgICB0aGlzLmxvb3BEYXRhID0gdGhpcy5jb252ZXJ0RGF0YShuZVZhbCwgdGhpcy5sZWdlbmRzKTsKICAgICAgICB0aGlzLm9wdGlvbi5zZXJpZXNbMF0uZGF0YSA9IHRoaXMubG9vcERhdGE7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgbGV0IGNoYXJ0ID0gdGhpcy4kZWNoYXJ0cy5pbml0KHRoaXMuJHJlZnMuTmlnaHRpbmdhbGVFY2hhcnRzKTsKICAgICAgICAgIHRoaXMuY2Fyb3VzZWwoKTsKICAgICAgICAgIGNoYXJ0LnNldE9wdGlvbih0aGlzLm9wdGlvbik7CiAgICAgICAgICB0aGF0LmluaXRFY2hhcnRzKCk7CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUKICAgIH0KICB9Cn07"},{"version":3,"names":["name","props","title","type","String","width","default","height","rowData","Array","category","value","pieceColor","location","EchartRadius","displayModel","Number","data","option","show","text","subtext","x","tooltip","trigger","legend","y","orient","toolbox","calculable","series","radius","color","center","roseType","max","itemStyle","normal","label","labelLine","emphasis","ind","loopData","num","sum","selectedSeries","methods","initEcharts","that","myChart","$echarts","init","$refs","NightingaleEcharts","convertData","legends","console","log","carousel","setOption","returnData","forEach","d","push","toFixed","sort","a","b","re","r","replace","setTimeToDo","e","selected","setHighLight","clearInterval","timer","setInterval","length","on","params","debounce","clearTimeout","setTimeout","dataIndex","mounted","destroyed","watch","handler","neVal","$nextTick","chart","deep"],"sources":["src/components/Chart Library/03-饼图/03-玫瑰图/roseCharts.vue"],"sourcesContent":["<template>\r\n  <div class=\"box\">\r\n    <div id=\"NightingaleEcharts\" :style=\"{ width: width, height: height }\" ref=\"NightingaleEcharts\"></div>\r\n\r\n    <div class=\"rose_legend\" v-if=\"displayModel == 1\">\r\n      <div class=\"legend\" v-for=\"(item, index) in loopData\" :key=\"index\">\r\n        <div class=\"legend_color\" :style=\"{ backgroundColor: pieceColor[index] }\"></div>\r\n        <div\r\n          class=\"legend_progress\"\r\n          v-if=\"0\"\r\n          :style=\"{\r\n            backgroundColor: pieceColor[index],\r\n            width: 'calc(' + item.num + ' - 0px)',\r\n          }\"\r\n        ></div>\r\n\r\n        <!-- :style=\"{ backgroundColor: color[index], width: item.value> 100? 100: item.value +'%' }\" -->\r\n        <div class=\"legend_name\">{{ item.name }}</div>\r\n        <div class=\"legend_bar\" v-if=\"0\"></div>\r\n\r\n        <div class=\"legend_value\" :style=\"{ color: pieceColor[index] }\">{{ item.num }}</div>\r\n        <div class=\"legend_num\" v-if=\"0\">{{ item.value }}</div>\r\n        <div class=\"legend_unit\" v-if=\"0\">{{ legthunit }}</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"bottomrose_legend\" v-if=\"displayModel == 2\">\r\n      <div class=\"legend\" v-for=\"(item, index) in loopData\" :key=\"index\">\r\n        <div class=\"legend_color\" :style=\"{ backgroundColor: pieceColor[index] }\"></div>\r\n        <div\r\n          class=\"legend_progress\"\r\n          v-if=\"0\"\r\n          :style=\"{\r\n            backgroundColor: pieceColor[index],\r\n            width: 'calc(' + item.num + ' - 0px)',\r\n          }\"\r\n        ></div>\r\n\r\n        <!-- :style=\"{ backgroundColor: color[index], width: item.value> 100? 100: item.value +'%' }\" -->\r\n        <div class=\"legend_name\">{{ item.name }}</div>\r\n        <div class=\"legend_bar\" v-if=\"0\"></div>\r\n\r\n        <div class=\"legend_value\" v-if=\"0\" :style=\"{ color: pieceColor[index] }\">{{ item.num }}</div>\r\n        <div class=\"legend_num\" v-if=\"0\">{{ item.value }}</div>\r\n        <div class=\"legend_unit\" v-if=\"0\">{{ legthunit }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'NightingaleEcharts',\r\n  props: {\r\n    title: {\r\n      type: String,\r\n    },\r\n    width: {\r\n      type: String,\r\n      default: '500px',\r\n    },\r\n    height: {\r\n      type: String,\r\n      default: '500px',\r\n    },\r\n    //数据\r\n    rowData: {\r\n      type: Array,\r\n      default: () => {\r\n        return [\r\n          { category: '类型1', value: 20 },\r\n          { category: '类型2', value: 30 },\r\n          { category: '类型3', value: 40 },\r\n          { category: '类型4', value: 50 },\r\n        ];\r\n      },\r\n    },\r\n    //图表颜色\r\n    pieceColor: {\r\n      type: Array,\r\n      default: () => {\r\n        return ['#eee', '#ababa9', '#3e464f', '#252d35', '#051839', '#E6C84F'];\r\n      },\r\n    },\r\n    //图表位置\r\n    location: {\r\n      type: Array,\r\n      default: () => {\r\n        return ['120%', '55%'];\r\n      },\r\n    },\r\n    //图表半径\r\n    EchartRadius: {\r\n      type: Array,\r\n      default: () => {\r\n        return [50, 100];\r\n      },\r\n    },\r\n    displayModel: {\r\n      type: [String, Number],\r\n      default: () => {\r\n        return 1;\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      option: {\r\n        //title图的标题，副标题，以及位置设置\r\n        title: {\r\n          show: false,\r\n          text: '南丁格尔玫瑰图',\r\n          subtext: '纯属虚构',\r\n          x: 'center',\r\n        },\r\n\r\n        tooltip: {\r\n          trigger: 'item',\r\n          show: false,\r\n          //提示框的数据样式显示\r\n        },\r\n\r\n        //图例相关内容的说明\r\n\r\n        legend: {\r\n          show: false,\r\n          x: 'left',\r\n          y: 'center',\r\n          //图例的排列默认属性是：水平或垂直,默认是：水平\r\n          orient: 'vertical',\r\n          // data: ['北京', '上海', '广州', '福建', '厦门', '武汉', '青岛', '南京']\r\n        },\r\n\r\n        /*\r\n         * toolbox为工具栏；提供导出图片，数据转化，动态数据等信息\r\n         * 保存图片\r\n         */\r\n\r\n        toolbox: {\r\n          show: false, //是否显示工具栏组件\r\n        },\r\n\r\n        calculable: false, //手柄拖拽调整选中的范围\r\n\r\n        series: [\r\n          {\r\n            name: this.title,\r\n            type: 'pie',\r\n            radius: this.EchartRadius,\r\n            color: this.pieceColor,\r\n            center: this.location,\r\n            roseType: 'radius',\r\n            width: '40%', // for funnel\r\n\r\n            max: 140, // for funnel\r\n\r\n            itemStyle: {\r\n              //普通样式设置\r\n              normal: {\r\n                label: {\r\n                  show: false,\r\n                },\r\n\r\n                labelLine: {\r\n                  show: false,\r\n                },\r\n              },\r\n              //高亮样式设置\r\n              emphasis: {\r\n                label: {\r\n                  show: true,\r\n                },\r\n\r\n                labelLine: {\r\n                  show: false,\r\n                },\r\n              },\r\n            },\r\n            data: this.rowData,\r\n          },\r\n        ],\r\n      },\r\n      ind: 0,\r\n      loopData: [],\r\n      num: 0,\r\n      sum: 0,\r\n      //当前选中的value\r\n      selectedSeries: {\r\n        category: '',\r\n        value: '',\r\n        sum: '',\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    initEcharts() {\r\n      let that = this;\r\n      this.myChart = that.$echarts.init(that.$refs.NightingaleEcharts);\r\n      this.loopData = this.convertData(this.rowData, this.legends);\r\n      console.log(this.loopData);\r\n\r\n      this.option.series[0].data = this.loopData;\r\n      this.carousel();\r\n      this.myChart.setOption(that.option);\r\n    },\r\n    //value转换\r\n    convertData(rowData) {\r\n      this.sum = 0;\r\n      let returnData = [];\r\n      rowData.forEach((d) => {\r\n        this.sum += d.value;\r\n        returnData.push({\r\n          value: d.value,\r\n          name: d.category,\r\n          // itemStyle: {\r\n          //   color: legends[d.category]\r\n          // }\r\n        });\r\n      });\r\n      returnData.forEach((d) => {\r\n        d.num = this.sum == 0 ? '0' : ((d.value / this.sum) * 100).toFixed(3) + '%';\r\n      });\r\n      //进度条模式时 倒序排序\r\n      if (this.displayModel == 100) {\r\n        returnData.sort((a, b) => {\r\n          return b.value - a.value;\r\n        });\r\n      }\r\n      //增加千分位\r\n      if (this.displayModel == 2) {\r\n        let re = /(?=(?!(\\b))(\\d{3})+$)/g;\r\n        returnData.forEach((r) => {\r\n          r.value = String(r.value).replace(re, ',');\r\n        });\r\n      }\r\n      return returnData;\r\n    },\r\n    setTimeToDo() {\r\n      const data = this.option.series[0].data;\r\n      data.forEach((e) => (e.selected = false));\r\n      data[this.num].selected = true;\r\n      this.selectedSeries.category = data[this.num].name;\r\n      // 计算百分比的一个\r\n      this.selectedSeries.value = data[this.num].num;\r\n      // this.selectedSeries =data[this.num]\r\n      // 必须重新设置option，因为echart没有监听data的变化\r\n      this.myChart.setOption(this.option);\r\n    },\r\n    setHighLight() {\r\n      clearInterval(this.timer);\r\n      const data = this.option.series[0].data;\r\n      this.timer = setInterval(() => {\r\n        if (this.num < data.length - 1) {\r\n          this.num++;\r\n        } else {\r\n          this.num = 0;\r\n        }\r\n        this.setTimeToDo();\r\n      }, 1000);\r\n    },\r\n    //轮播\r\n    carousel() {\r\n      if (this.option.series[0].data.length > 0) {\r\n        //开启定时器\r\n        this.setTimeToDo();\r\n        this.setHighLight();\r\n        this.myChart.on('mouseover', (params) => {\r\n          clearInterval(this.timer);\r\n          // 鼠标快速移动时，会导致mouseover里的代码来不及执行，引起事件延迟，出现多个扇形区域同时被选中的现象，所以有必要设置防抖函数\r\n          this.debounce && clearTimeout(this.debounce);\r\n          this.debounce = setTimeout(() => {\r\n            const data = this.option.series[0].data;\r\n            data.forEach((e) => (e.selected = false));\r\n            data[params.dataIndex].selected = true;\r\n            this.myChart.setOption(this.option);\r\n            this.num = params.dataIndex;\r\n          }, 300);\r\n        });\r\n\r\n        this.myChart.on('mouseout', () => {\r\n          this.setTimeToDo();\r\n          this.setHighLight();\r\n        });\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    if (this.rowData && this.rowData.length > 0) {\r\n      this.initEcharts();\r\n    }\r\n  },\r\n  destroyed() {\r\n    this.timer && clearInterval(this.timer);\r\n    this.debounce && clearTimeout(this.debounce);\r\n  },\r\n  watch: {\r\n    rowData: {\r\n      handler(neVal) {\r\n        let that = this;\r\n        this.option.series[0].data = [];\r\n        this.loopData = this.convertData(neVal, this.legends);\r\n        this.option.series[0].data = this.loopData;\r\n        this.$nextTick(() => {\r\n          let chart = this.$echarts.init(this.$refs.NightingaleEcharts);\r\n          this.carousel();\r\n          chart.setOption(this.option);\r\n          that.initEcharts();\r\n        });\r\n      },\r\n      deep: true,\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.box {\r\n  width: 100%;\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  overflow: hidden;\r\n  top: -25px;\r\n}\r\n.rose_legend {\r\n  position: absolute;\r\n  left: -20px;\r\n  top: 10px;\r\n  // margin-left: -50px;\r\n  // margin-right: -82px;\r\n  // margin-bottom: 70px;\r\n  width: 275px;\r\n  position: relative;\r\n  height: 180px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  // margin-top: 5px;\r\n  .legend {\r\n    position: relative;\r\n    height: 49px;\r\n    // width: 275px;\r\n    display: flex;\r\n    padding-bottom: 6px;\r\n    margin-bottom: 20px;\r\n    .legend_progress {\r\n      // width: 100%;\r\n      height: 10px;\r\n      position: absolute;\r\n      // left: 16px;\r\n      top: 39px;\r\n    }\r\n    .legend_bar {\r\n      z-index: -2;\r\n      width: 100%;\r\n      position: absolute;\r\n      height: 10px;\r\n      background: #373f55;\r\n      top: 39px;\r\n    }\r\n    .legend_color {\r\n      width: 5px;\r\n      height: 24px;\r\n      // margin-top: 30px;\r\n      // border-radius: 50%;\r\n      background: red;\r\n      margin-right: 10px;\r\n    }\r\n    .legend_name {\r\n      font-size: 24px;\r\n      color: #aae3ff;\r\n      font-family: '微软雅黑';\r\n      // line-height: 56px;\r\n      // margin-left: 15px;\r\n      // width: 52px;\r\n      position: absolute;\r\n      color: #b8e5fe;\r\n      left: 13px;\r\n      top: -5px;\r\n    }\r\n    .legend_num {\r\n      position: absolute;\r\n      font-size: 34px;\r\n      background-image: -webkit-linear-gradient(bottom, #fff, #81bac9);\r\n      -webkit-background-clip: text;\r\n      // -webkit-text-fill-color: transparent;\r\n      font-family: '腾祥智黑简';\r\n      // margin-right: 20px;\r\n      top: -8px;\r\n    }\r\n    .legend_value {\r\n      position: absolute;\r\n      right: 0px;\r\n      top: -5px;\r\n      font-size: 34px;\r\n      color: #dddddd;\r\n      font-family: '腾祥智黑简';\r\n      line-height: 40px;\r\n      // margin-right: 20px;\r\n      color: red;\r\n    }\r\n    .legend_unit {\r\n      position: absolute;\r\n      top: 6px;\r\n      // right: 27px;\r\n      line-height: 22px;\r\n      font-size: 18px;\r\n      color: #14bfff;\r\n      font-family: '微软雅黑';\r\n    }\r\n  }\r\n}\r\n.bottomrose_legend {\r\n  position: absolute;\r\n  left: 0px;\r\n  top: 0px;\r\n  width: 475px;\r\n  position: relative;\r\n  height: 262px;\r\n  // margin-top: 5px;\r\n  .legend {\r\n    position: relative;\r\n    height: 40px;\r\n    float: left;\r\n    width: 120px;\r\n    .legend_progress {\r\n      // width: 100%;\r\n      height: 10px;\r\n      position: absolute;\r\n      // left: 16px;\r\n      top: 39px;\r\n    }\r\n    .legend_bar {\r\n      z-index: -2;\r\n      width: 100%;\r\n      position: absolute;\r\n      height: 10px;\r\n      background: #373f55;\r\n      top: 39px;\r\n    }\r\n    .legend_color {\r\n      width: 5px;\r\n      height: 24px;\r\n      // margin-top: 30px;\r\n      // border-radius: 50%;\r\n      background: red;\r\n      margin-right: 10px;\r\n    }\r\n    .legend_name {\r\n      font-size: 26px;\r\n      color: #aae3ff;\r\n      font-family: '微软雅黑';\r\n      // line-height: 56px;\r\n      // margin-left: 15px;\r\n      // width: 52px;\r\n      position: absolute;\r\n      color: #b8e5fe;\r\n      left: 13px;\r\n      top: -5px;\r\n    }\r\n    .legend_num {\r\n      position: absolute;\r\n      // right: 13px;\r\n      // top: -5px;\r\n      font-size: 40px;\r\n      background-image: -webkit-linear-gradient(bottom, #fff, #81bac9);\r\n      -webkit-background-clip: text;\r\n      // -webkit-text-fill-color: transparent;\r\n      font-family: '腾祥智黑简';\r\n      // margin-right: 20px;\r\n      top: -8px;\r\n    }\r\n    .legend_value {\r\n      position: absolute;\r\n      right: 0px;\r\n      top: -5px;\r\n      font-size: 36px;\r\n      color: #dddddd;\r\n      font-family: '腾祥智黑简';\r\n      line-height: 40px;\r\n      // margin-right: 20px;\r\n      color: red;\r\n    }\r\n    .legend_unit {\r\n      position: absolute;\r\n      top: 6px;\r\n      // right: 27px;\r\n      line-height: 22px;\r\n      font-size: 20px;\r\n      color: #14bfff;\r\n      font-family: '微软雅黑';\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"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"}]}