{"remainingRequest":"D:\\web相关\\small project\\图表库\\node_modules\\thread-loader\\dist\\cjs.js!D:\\web相关\\small project\\图表库\\node_modules\\babel-loader\\lib\\index.js!D:\\web相关\\small project\\图表库\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\web相关\\small project\\图表库\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\web相关\\small project\\图表库\\src\\components\\Chart Library\\03-饼图\\01-基础饼图\\ChartPie.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\web相关\\small project\\图表库\\src\\components\\Chart Library\\03-饼图\\01-基础饼图\\ChartPie.vue","mtime":1711454821579},{"path":"D:\\web相关\\small project\\图表库\\babel.config.js","mtime":1669272750000},{"path":"D:\\web相关\\small project\\图表库\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\web相关\\small project\\图表库\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\web相关\\small project\\图表库\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\web相关\\small project\\图表库\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\web相关\\small project\\图表库\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgaGVpZ2h0OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJzMwMHB4JwogICAgfSwKICAgIC8v6auY5bqmCiAgICB3aWR0aDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcyMDBweCcKICAgIH0sCiAgICAvL+WuveW6pgogICAgcmFkaXVzOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJzc1JScKICAgIH0sCiAgICAvL+WuveW6pgogICAgLy8gbWFyZ2luTnVtOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJzhweCAwIDEwcHggMCcgfSwgLy8g5Zu+5L6L55qEbWFyZ2lu5oyHCiAgICAvLyDmlbDmja4KICAgIHJvd0RhdGE6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6ICgpID0+IHsKICAgICAgICByZXR1cm4gW3sKICAgICAgICAgIG1lYXN1cmU6IDI0LAogICAgICAgICAgbGVnZW5kOiAn5p2o5qCRJwogICAgICAgIH0sIHsKICAgICAgICAgIG1lYXN1cmU6IDIxLAogICAgICAgICAgbGVnZW5kOiAn5p2+5qCRJwogICAgICAgIH0sIHsKICAgICAgICAgIG1lYXN1cmU6IDE3LAogICAgICAgICAgbGVnZW5kOiAn5p+P5qCRJwogICAgICAgIH0sIHsKICAgICAgICAgIG1lYXN1cmU6IDE0LAogICAgICAgICAgbGVnZW5kOiAn5qKn5qGQ5qCRJwogICAgICAgIH0sIHsKICAgICAgICAgIG1lYXN1cmU6IDgsCiAgICAgICAgICBsZWdlbmQ6ICfpk7bmnY/moJEnCiAgICAgICAgfV07CiAgICAgIH0KICAgIH0sCiAgICAvL+WbvuS+i+aVsOaNrgogICAgbGVnZW5kczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogKCkgPT4gewogICAgICAgIHJldHVybiBbJyNlZWVlZWUnLCAnI2FiYWJhOScsICcjYjhlNWZlJywgJyMzZjg5YjEnLCAnIzNlNDY0ZicsICcjMjUyZDM1JywgJyMyNjkzRkYnLCAnIzAwNjk4QycsICcjMDA2NjRDJywgJyMyNDhFNjQnXTsKICAgICAgfQogICAgfSwKICAgIGNvbG9yczoge30sCiAgICAvLyDppbzlm77kuK3pl7TmloflrZfliJ3lp4vljJbmmK/lkKbmmL7npLoKICAgIHBpZXRleHQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIC8v5Lit6Ze05paH5a2X5piv5ZCm5pi+56S6CiAgICBQaWV0ZXh0U2hvdzogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgLy8g5piv5ZCm5byA5ZCv6L2u5pKtCiAgICByb3RhdGlvbjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgdHdvdW5pdDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICfkuKonCiAgICB9LAogICAgLy/nrKzkuoznp43lm77kvosg5Y2V5L2NCiAgICAvLyDkuK3lv4PmloflrZfmmK/lkKbmmL7npLrljp/lp4vlgLwKICAgIGxhYmVsdmFsdWU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb29wRGF0YTogW10sCiAgICAgIG51bTogMCwKICAgICAgLy/lvZPliY3pgInkuK3nmoTmlbDmja4KICAgICAgc2VsZWN0ZWRTZXJpZXM6IHsKICAgICAgICBsZWdlbmQ6ICcnLAogICAgICAgIG1lYXN1cmU6ICcnLAogICAgICAgIHZhbHVlOiAnJywKICAgICAgICB1bml0OiAnJwogICAgICB9LAogICAgICBzdW06IDAsCiAgICAgIGRpc3BsYXlNb2RlbDogMAogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgIHRoaXMuZHJhd0NoYXJ0KCk7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGRyYXdDaGFydCgpIHsKICAgICAgLy8g5Z+65LqO5YeG5aSH5aW955qEZG9t77yM5Yid5aeL5YyWZWNoYXJ0c+WunuS+iwogICAgICB0aGlzLmxvb3BDaGFydCA9IHRoaXMuJGVjaGFydHMuaW5pdCh0aGlzLiRyZWZzLmxvb3ApOwogICAgICB0aGlzLm9wdGlvbiA9IHsKICAgICAgICB0b29sdGlwOiB7CiAgICAgICAgICB0cmlnZ2VyOiAnaXRlbScsCiAgICAgICAgICBmb3JtYXR0ZXI6ICd7Yn06e2R9JScsCiAgICAgICAgICB0ZXh0U3R5bGU6IHsKICAgICAgICAgICAgZm9udFNpemU6IDE4CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBzZXJpZXM6IFt7CiAgICAgICAgICB0eXBlOiAncGllJywKICAgICAgICAgIHJhZGl1czogW3RoaXMucmFkaXVzLCAnOTAlJ10sCiAgICAgICAgICBjZW50ZXI6IFsnNTAlJywgJzQwJSddLAogICAgICAgICAgaG92ZXJBbmltYXRpb246IGZhbHNlLAogICAgICAgICAgc2VsZWN0ZWRNb2RlOiAnc2luZ2xlJywKICAgICAgICAgIGxhYmVsOiB7CiAgICAgICAgICAgIHNob3c6IGZhbHNlLAogICAgICAgICAgICBwb3NpdGlvbjogJ2NlbnRlcicKICAgICAgICAgIH0sCiAgICAgICAgICBsYWJlbExpbmU6IHsKICAgICAgICAgICAgc2hvdzogZmFsc2UKICAgICAgICAgIH0sCiAgICAgICAgICBkYXRhOiBbXQogICAgICAgIH1dCiAgICAgIH07CiAgICAgIHRoaXMubG9vcERhdGEgPSB0aGlzLmNvbnZlcnREYXRhKHRoaXMucm93RGF0YSwgdGhpcy5sZWdlbmRzKTsKICAgICAgdGhpcy5vcHRpb24uc2VyaWVzWzBdLmRhdGEgPSB0aGlzLmxvb3BEYXRhOwogICAgICB0aGlzLmNhcm91c2VsKCk7CiAgICAgIHRoaXMubG9vcENoYXJ0LnNldE9wdGlvbih0aGlzLm9wdGlvbik7CiAgICB9LAogICAgLy/mlbDmja7ovazmjaIKICAgIGNvbnZlcnREYXRhKHJvd0RhdGEsIGxlZ2VuZHMpIHsKICAgICAgdGhpcy5zdW0gPSAwOwogICAgICBsZXQgcmV0dXJuRGF0YSA9IFtdOwogICAgICBpZiAocm93RGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgcm93RGF0YS5mb3JFYWNoKChkLCBpbmRleCkgPT4gewogICAgICAgICAgdGhpcy5zdW0gKz0gZC5tZWFzdXJlOwogICAgICAgICAgcmV0dXJuRGF0YS5wdXNoKHsKICAgICAgICAgICAgdmFsdWU6IGQubWVhc3VyZSwKICAgICAgICAgICAgbmFtZTogZC5sZWdlbmQsCiAgICAgICAgICAgIHVuaXQ6IGQudW5pdCwKICAgICAgICAgICAgaXRlbVN0eWxlOiB7CiAgICAgICAgICAgICAgY29sb3I6IGxlZ2VuZHNbaW5kZXggJSAxMF0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuRGF0YS5mb3JFYWNoKGQgPT4gewogICAgICAgICAgZC5udW0gPSB0aGlzLnN1bSA9PSAwID8gJzAnIDogKGQudmFsdWUgLyB0aGlzLnN1bSAqIDEwMCkudG9GaXhlZCgxKSArICclJzsKICAgICAgICB9KTsKICAgICAgICBpZiAocmV0dXJuRGF0YS5sZW5ndGggPiAwICYmIHJldHVybkRhdGFbMF0udmFsdWUgPT0gdGhpcy5zdW0pIHsKICAgICAgICAgIHJldHVybkRhdGFbMF0ubnVtID0gJzEwMCUnOwogICAgICAgIH0KCiAgICAgICAgLy/lop7liqDljYPliIbkvY0KICAgICAgICBpZiAodGhpcy5kaXNwbGF5TW9kZWwgPT0gMikgewogICAgICAgICAgbGV0IHJlID0gLyg/PSg/IShcYikpKFxkezN9KSskKS9nOwogICAgICAgICAgcmV0dXJuRGF0YS5mb3JFYWNoKHIgPT4gewogICAgICAgICAgICByLnZhbHVlID0gU3RyaW5nKHIudmFsdWUpLnJlcGxhY2UocmUsICcsJyk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuRGF0YS5wdXNoKHsKICAgICAgICAgIG5hbWU6ICfmmoLml6DmlbDmja4nLAogICAgICAgICAgdmFsdWU6ICcwJywKICAgICAgICAgIG51bTogJzAlJywKICAgICAgICAgIGl0ZW1TdHlsZTogewogICAgICAgICAgICBjb2xvcjogJyMzNzNGNTUnCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgcmV0dXJuIHJldHVybkRhdGE7CiAgICB9LAogICAgc2V0VGltZVRvRG8oKSB7CiAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLm9wdGlvbi5zZXJpZXNbMF0uZGF0YTsKICAgICAgZGF0YS5mb3JFYWNoKGUgPT4gZS5zZWxlY3RlZCA9IGZhbHNlKTsKICAgICAgZGF0YVt0aGlzLm51bV0uc2VsZWN0ZWQgPSB0cnVlOwogICAgICB0aGlzLnNlbGVjdGVkU2VyaWVzLmxlZ2VuZCA9IGRhdGFbdGhpcy5udW1dLm5hbWU7CiAgICAgIHRoaXMuc2VsZWN0ZWRTZXJpZXMubWVhc3VyZSA9IGRhdGFbdGhpcy5udW1dLm51bTsKICAgICAgdGhpcy5zZWxlY3RlZFNlcmllcy52YWx1ZSA9IGRhdGFbdGhpcy5udW1dLnZhbHVlOwogICAgICB0aGlzLnNlbGVjdGVkU2VyaWVzLnVuaXQgPSBkYXRhW3RoaXMubnVtXS51bml0OwogICAgICAvLyDlv4Xpobvph43mlrDorr7nva5vcHRpb27vvIzlm6DkuLplY2hhcnTmsqHmnInnm5HlkKxkYXRh55qE5Y+Y5YyWCiAgICAgIHRoaXMubG9vcENoYXJ0LnNldE9wdGlvbih0aGlzLm9wdGlvbik7CiAgICB9LAogICAgc2V0SGlnaExpZ2h0KCkgewogICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpOwogICAgICBjb25zdCBkYXRhID0gdGhpcy5vcHRpb24uc2VyaWVzWzBdLmRhdGE7CiAgICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgaWYgKHRoaXMubnVtIDwgZGF0YS5sZW5ndGggLSAxKSB7CiAgICAgICAgICB0aGlzLm51bSsrOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLm51bSA9IDA7CiAgICAgICAgfQogICAgICAgIHRoaXMuc2V0VGltZVRvRG8oKTsKICAgICAgfSwgMjAwMCk7CiAgICB9LAogICAgLy/ova7mkq0KICAgIGNhcm91c2VsKCkgewogICAgICBpZiAodGhpcy5vcHRpb24uc2VyaWVzWzBdLmRhdGEubGVuZ3RoID4gMCkgewogICAgICAgIC8v5byA5ZCv5a6a5pe25ZmoCiAgICAgICAgaWYgKHRoaXMucGlldGV4dCkgewogICAgICAgICAgdGhpcy5zZXRUaW1lVG9EbygpOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5yb3RhdGlvbikgewogICAgICAgICAgdGhpcy5zZXRIaWdoTGlnaHQoKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5sb29wQ2hhcnQub24oJ21vdXNlb3ZlcicsIHBhcmFtcyA9PiB7CiAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpOwogICAgICAgICAgLy8g6byg5qCH5b+r6YCf56e75Yqo5pe277yM5Lya5a+86Ie0bW91c2VvdmVy6YeM55qE5Luj56CB5p2l5LiN5Y+K5omn6KGM77yM5byV6LW35LqL5Lu25bu26L+f77yM5Ye6546w5aSa5Liq5omH5b2i5Yy65Z+f5ZCM5pe26KKr6YCJ5Lit55qE546w6LGh77yM5omA5Lul5pyJ5b+F6KaB6K6+572u6Ziy5oqW5Ye95pWwCiAgICAgICAgICB0aGlzLmRlYm91bmNlICYmIGNsZWFyVGltZW91dCh0aGlzLmRlYm91bmNlKTsKICAgICAgICAgIHRoaXMuZGVib3VuY2UgPSBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMub3B0aW9uLnNlcmllc1swXS5kYXRhOwogICAgICAgICAgICBkYXRhLmZvckVhY2goZSA9PiBlLnNlbGVjdGVkID0gZmFsc2UpOwogICAgICAgICAgICBkYXRhW3BhcmFtcy5kYXRhSW5kZXhdLnNlbGVjdGVkID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy5sb29wQ2hhcnQuc2V0T3B0aW9uKHRoaXMub3B0aW9uKTsKICAgICAgICAgICAgdGhpcy5udW0gPSBwYXJhbXMuZGF0YUluZGV4OwogICAgICAgICAgfSwgMzAwKTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLmxvb3BDaGFydC5vbignbW91c2VvdXQnLCAoKSA9PiB7CiAgICAgICAgICB0aGlzLnNldFRpbWVUb0RvKCk7CiAgICAgICAgICB0aGlzLnNldEhpZ2hMaWdodCgpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgcm93RGF0YTogewogICAgICBoYW5kbGVyKG5lVmFsKSB7CiAgICAgICAgdGhpcy5vcHRpb24uc2VyaWVzWzBdLmRhdGEgPSBbXTsKICAgICAgICB0aGlzLmxvb3BEYXRhID0gdGhpcy5jb252ZXJ0RGF0YShuZVZhbCwgdGhpcy5sZWdlbmRzKTsKICAgICAgICB0aGlzLm9wdGlvbi5zZXJpZXNbMF0uZGF0YSA9IHRoaXMubG9vcERhdGE7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgdGhpcy5udW0gPSAwOwogICAgICAgICAgdGhpcy5zZWxlY3RlZFNlcmllcyA9IHsKICAgICAgICAgICAgbGVnZW5kOiAnJywKICAgICAgICAgICAgbWVhc3VyZTogJycsCiAgICAgICAgICAgIHVuaXQ6ICcnCiAgICAgICAgICB9OwogICAgICAgICAgdGhpcy5zdW0gPSAwOwogICAgICAgICAgbGV0IGNoYXJ0ID0gdGhpcy4kZWNoYXJ0cy5pbml0KHRoaXMuJHJlZnMubG9vcCk7CiAgICAgICAgICB0aGlzLmNhcm91c2VsKCk7CiAgICAgICAgICBjaGFydC5zZXRPcHRpb24odGhpcy5vcHRpb24pOwogICAgICAgIH0pOwogICAgICB9LAogICAgICBkZWVwOiBmYWxzZQogICAgfQogIH0sCiAgZGVzdHJveWVkKCkgewogICAgdGhpcy50aW1lciAmJiBjbGVhckludGVydmFsKHRoaXMudGltZXIpOwogICAgdGhpcy5kZWJvdW5jZSAmJiBjbGVhclRpbWVvdXQodGhpcy5kZWJvdW5jZSk7CiAgfQp9Ow=="},{"version":3,"names":["props","height","type","String","default","width","radius","rowData","Array","measure","legend","legends","colors","pietext","Boolean","PietextShow","rotation","twounit","labelvalue","data","loopData","num","selectedSeries","value","unit","sum","displayModel","mounted","$nextTick","drawChart","methods","loopChart","$echarts","init","$refs","loop","option","tooltip","trigger","formatter","textStyle","fontSize","series","center","hoverAnimation","selectedMode","label","show","position","labelLine","convertData","carousel","setOption","returnData","length","forEach","d","index","push","name","itemStyle","color","toFixed","re","r","replace","setTimeToDo","e","selected","setHighLight","clearInterval","timer","setInterval","on","params","debounce","clearTimeout","setTimeout","dataIndex","watch","handler","neVal","chart","deep","destroyed"],"sources":["src/components/Chart Library/03-饼图/01-基础饼图/ChartPie.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div :style=\"{ width: `${width}`, height: `${height}` }\" style=\"position: relative\">\r\n      <div ref=\"loop\" class=\"positionloopecharts\" :style=\"{ width: `${width}`, height: `${height}` }\"></div>\r\n      <div v-if=\"PietextShow\" class=\"loop_label\">\r\n        <div class=\"text\" :title=\"selectedSeries.legend\" v-html=\"selectedSeries.legend\"></div>\r\n        <div class=\"num\" v-show=\"!labelvalue\" v-text=\"selectedSeries.measure\"></div>\r\n        <div class=\"unit\" v-text=\"selectedSeries.unit\"></div>\r\n      </div>\r\n    </div>\r\n    <div class=\"right\">\r\n      <div class=\"right_item\" v-for=\"(d, index) in loopData\" :key=\"index\">\r\n        <div class=\"legend1\">\r\n          <div class=\"legend\" :style=\"{ 'background-image': `linear-gradient(to right,${d.itemStyle.color}, rgba(255,255,255,0.8))`, width: d.num }\"></div>\r\n\r\n          <div class=\"num\" v-show=\"!labelvalue\" v-text=\"d.num\"></div>\r\n        </div>\r\n        <div class=\"text\" v-html=\"d.name\" :title=\"d.name\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    height: { type: String, default: '300px' }, //高度\r\n    width: { type: String, default: '200px' }, //宽度\r\n    radius: { type: String, default: '75%' }, //宽度\r\n    // marginNum: { type: String, default: '8px 0 10px 0' }, // 图例的margin指\r\n    // 数据\r\n    rowData: {\r\n      type: Array,\r\n      default: () => {\r\n        return [\r\n          {\r\n            measure: 24,\r\n            legend: '杨树',\r\n          },\r\n          {\r\n            measure: 21,\r\n            legend: '松树',\r\n          },\r\n          {\r\n            measure: 17,\r\n            legend: '柏树',\r\n          },\r\n          {\r\n            measure: 14,\r\n            legend: '梧桐树',\r\n          },\r\n\r\n          {\r\n            measure: 8,\r\n            legend: '银杏树',\r\n          },\r\n        ];\r\n      },\r\n    },\r\n    //图例数据\r\n    legends: {\r\n      type: Array,\r\n      default: () => {\r\n        return ['#eeeeee', '#ababa9', '#b8e5fe', '#3f89b1', '#3e464f', '#252d35', '#2693FF', '#00698C', '#00664C', '#248E64'];\r\n      },\r\n    },\r\n    colors: {},\r\n\r\n    // 饼图中间文字初始化是否显示\r\n    pietext: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    //中间文字是否显示\r\n    PietextShow: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    // 是否开启轮播\r\n    rotation: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    twounit: { type: String, default: '个' }, //第二种图例 单位\r\n    // 中心文字是否显示原始值\r\n    labelvalue: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      loopData: [],\r\n      num: 0,\r\n      //当前选中的数据\r\n      selectedSeries: {\r\n        legend: '',\r\n        measure: '',\r\n        value: '',\r\n        unit: '',\r\n      },\r\n      sum: 0,\r\n      displayModel: 0,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      this.drawChart();\r\n    });\r\n  },\r\n  methods: {\r\n    drawChart() {\r\n      // 基于准备好的dom，初始化echarts实例\r\n      this.loopChart = this.$echarts.init(this.$refs.loop);\r\n      this.option = {\r\n        tooltip: {\r\n          trigger: 'item',\r\n          formatter: '{b}:{d}%',\r\n          textStyle: {\r\n            fontSize: 18,\r\n          },\r\n        },\r\n        series: [\r\n          {\r\n            type: 'pie',\r\n            radius: [this.radius, '90%'],\r\n            center: ['50%', '40%'],\r\n            hoverAnimation: false,\r\n            selectedMode: 'single',\r\n            label: {\r\n              show: false,\r\n              position: 'center',\r\n            },\r\n\r\n            labelLine: {\r\n              show: false,\r\n            },\r\n            data: [],\r\n          },\r\n        ],\r\n      };\r\n      this.loopData = this.convertData(this.rowData, this.legends);\r\n      this.option.series[0].data = this.loopData;\r\n      this.carousel();\r\n      this.loopChart.setOption(this.option);\r\n    },\r\n    //数据转换\r\n    convertData(rowData, legends) {\r\n      this.sum = 0;\r\n      let returnData = [];\r\n      if (rowData.length > 0) {\r\n        rowData.forEach((d, index) => {\r\n          this.sum += d.measure;\r\n          returnData.push({\r\n            value: d.measure,\r\n            name: d.legend,\r\n            unit: d.unit,\r\n            itemStyle: {\r\n              color: legends[index % 10],\r\n            },\r\n          });\r\n        });\r\n        returnData.forEach((d) => {\r\n          d.num = this.sum == 0 ? '0' : ((d.value / this.sum) * 100).toFixed(1) + '%';\r\n        });\r\n\r\n        if (returnData.length > 0 && returnData[0].value == this.sum) {\r\n          returnData[0].num = '100%';\r\n        }\r\n\r\n        //增加千分位\r\n        if (this.displayModel == 2) {\r\n          let re = /(?=(?!(\\b))(\\d{3})+$)/g;\r\n          returnData.forEach((r) => {\r\n            r.value = String(r.value).replace(re, ',');\r\n          });\r\n        }\r\n      } else {\r\n        returnData.push({\r\n          name: '暂无数据',\r\n          value: '0',\r\n          num: '0%',\r\n          itemStyle: { color: '#373F55' },\r\n        });\r\n      }\r\n      return returnData;\r\n    },\r\n    setTimeToDo() {\r\n      const data = this.option.series[0].data;\r\n      data.forEach((e) => (e.selected = false));\r\n      data[this.num].selected = true;\r\n      this.selectedSeries.legend = data[this.num].name;\r\n      this.selectedSeries.measure = data[this.num].num;\r\n      this.selectedSeries.value = data[this.num].value;\r\n      this.selectedSeries.unit = data[this.num].unit;\r\n      // 必须重新设置option，因为echart没有监听data的变化\r\n      this.loopChart.setOption(this.option);\r\n    },\r\n    setHighLight() {\r\n      clearInterval(this.timer);\r\n      const data = this.option.series[0].data;\r\n      this.timer = setInterval(() => {\r\n        if (this.num < data.length - 1) {\r\n          this.num++;\r\n        } else {\r\n          this.num = 0;\r\n        }\r\n        this.setTimeToDo();\r\n      }, 2000);\r\n    },\r\n    //轮播\r\n    carousel() {\r\n      if (this.option.series[0].data.length > 0) {\r\n        //开启定时器\r\n        if (this.pietext) {\r\n          this.setTimeToDo();\r\n        }\r\n        if (this.rotation) {\r\n          this.setHighLight();\r\n        }\r\n\r\n        this.loopChart.on('mouseover', (params) => {\r\n          clearInterval(this.timer);\r\n          // 鼠标快速移动时，会导致mouseover里的代码来不及执行，引起事件延迟，出现多个扇形区域同时被选中的现象，所以有必要设置防抖函数\r\n          this.debounce && clearTimeout(this.debounce);\r\n          this.debounce = setTimeout(() => {\r\n            const data = this.option.series[0].data;\r\n            data.forEach((e) => (e.selected = false));\r\n            data[params.dataIndex].selected = true;\r\n            this.loopChart.setOption(this.option);\r\n            this.num = params.dataIndex;\r\n          }, 300);\r\n        });\r\n\r\n        this.loopChart.on('mouseout', () => {\r\n          this.setTimeToDo();\r\n          this.setHighLight();\r\n        });\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    rowData: {\r\n      handler(neVal) {\r\n        this.option.series[0].data = [];\r\n        this.loopData = this.convertData(neVal, this.legends);\r\n        this.option.series[0].data = this.loopData;\r\n        this.$nextTick(() => {\r\n          this.num = 0;\r\n          this.selectedSeries = {\r\n            legend: '',\r\n            measure: '',\r\n            unit: '',\r\n          };\r\n          this.sum = 0;\r\n          let chart = this.$echarts.init(this.$refs.loop);\r\n          this.carousel();\r\n          chart.setOption(this.option);\r\n        });\r\n      },\r\n      deep: false,\r\n    },\r\n  },\r\n  destroyed() {\r\n    this.timer && clearInterval(this.timer);\r\n    this.debounce && clearTimeout(this.debounce);\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.loop_label {\r\n  position: absolute;\r\n  text-align: center;\r\n  top: 38%;\r\n  left: 50%;\r\n  z-index: 2;\r\n  transform: translate(-50%, -50%);\r\n  .text {\r\n    font-size: 20px;\r\n    line-height: 40px;\r\n    text-align: center;\r\n    font-weight: 900;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n    width: 220px;\r\n    background: linear-gradient(to top, #f8f8f8, #fff);\r\n    -webkit-background-clip: text;\r\n    color: transparent;\r\n    font-family: '腾祥智黑简';\r\n    font-size: 30px;\r\n    margin-bottom: 10px;\r\n  }\r\n  .num {\r\n    font-size: 40px;\r\n    font-family: '腾祥智黑简';\r\n    text-align: center;\r\n    background: linear-gradient(to top, #f8f8f8, #fff);\r\n    -webkit-background-clip: text;\r\n    color: transparent;\r\n  }\r\n  .unit {\r\n    font-size: 18px;\r\n    font-family: '腾祥智黑简';\r\n    color: #00bfff;\r\n  }\r\n}\r\n\r\n.container {\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  width: 680px;\r\n  height: 320px;\r\n  padding-top: 5px;\r\n  position: relative;\r\n  .left {\r\n    flex: 1;\r\n  }\r\n  .right-order {\r\n    position: unset;\r\n    margin-top: 5px;\r\n  }\r\n\r\n  .right {\r\n    height: 230px;\r\n    width: 300px;\r\n    margin-top: -60px;\r\n    margin-left: 20px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-evenly;\r\n\r\n    .right_item {\r\n      height: 20px;\r\n      padding-top: 14px;\r\n      display: flex;\r\n      // border-bottom: 1px solid rgba(255, 255, 255, 0.4);\r\n      .legend1 {\r\n        position: relative;\r\n        height: 10px;\r\n        width: 200px;\r\n        background-color: #252d3550;\r\n        .legend {\r\n          position: absolute;\r\n          height: 10px;\r\n        }\r\n        .num {\r\n          position: absolute;\r\n          font-size: 16px;\r\n          top: -7px;\r\n          left: 104%;\r\n          font-family: '腾祥智黑简';\r\n          background: linear-gradient(to top, #f8f8f8, #fff);\r\n          -webkit-background-clip: text;\r\n          color: transparent;\r\n        }\r\n      }\r\n      .text {\r\n        position: absolute;\r\n        color: #f8f8f8;\r\n        font-size: 16px;\r\n        font-family: '腾祥智黑简';\r\n        margin-top: -22px;\r\n      }\r\n\r\n      .num {\r\n        font-size: 28px;\r\n        font-family: '腾祥智黑简';\r\n        overflow: hidden;\r\n        margin-left: auto;\r\n      }\r\n    }\r\n    .right_item_2 {\r\n      align-items: center;\r\n      padding-left: 20px;\r\n      height: 35px;\r\n      line-height: 35px;\r\n      .top {\r\n        height: 20px;\r\n        line-height: 20px;\r\n        display: flex;\r\n        margin: 5px 0;\r\n      }\r\n      .text {\r\n        width: 60%;\r\n        color: #f8f8f8;\r\n        font-size: 18px;\r\n        font-weight: '400';\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        white-space: nowrap;\r\n        width: 160px;\r\n      }\r\n      .num {\r\n        width: 30%;\r\n        color: #e9e9e9;\r\n        margin-top: 13px;\r\n        font-size: 28px;\r\n        font-family: 'DINCond-Medium';\r\n        text-align: center;\r\n        font-weight: '400';\r\n        margin-left: 20px;\r\n      }\r\n\r\n      .unit {\r\n        width: 45px;\r\n        color: #00aeea;\r\n        font-size: 16px;\r\n      }\r\n\r\n      .progress {\r\n        height: 10px;\r\n        width: 160px;\r\n        background-color: #3e4f62;\r\n        div {\r\n          height: 6px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .right1 {\r\n    margin-top: -20px;\r\n    margin-left: 0;\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"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"}]}